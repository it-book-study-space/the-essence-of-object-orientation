# 목차
- [협력](#협력)
- [책임](#책임)
  - [책임과 메시지](#책임과-메시지)
- [역할](#역할)
  - [협력의 추상화](#협력의-추상화)
  - [대체 가능성](#대체-가능성)


## 협력
- 협력은 다수의 `요청`과 `응답`으로 구성되며, 전체적으로 협력은 다수의 연쇄적인 요청과 응답의 흐름으로 구성된다.


- 어떤 `협력`에 참여하는지가 객체에 필요한 `행동`을 결정하고, 필요한 행동이 객체의 `상태`를 결정한다.


- 객체지향 설계의 전체적인 품질을 결정하는 것은 개별 객체의 품질이 아니라, 여러 객체들이 모여 이뤄내는 `협력의 품질`이다.
    - 개별적인 객체의 행동이나 상태가 아니라, 객체들 간의 협력에 집중하자

## 책임
- 객체지향의 세계에서는 어떤 객체가 어떤 요청에 대해 대답해 줄 수 있거나, 적절한 행동을 할 의무가 있는 경우 해당 객체가 책임을 가진다고 말한다.


- 책임은 객체에 의해 정의되는 응집도 있는 행위의 집합으로, 객체가 `알아야 하는 정보`와 객체가 `수행할 수 있는 행위`에 대해 개략적으로 서술한 문장이다.
  - 즉, 객체의 책임은 `객체가 무엇을 알고 있는가(knowing)`와 `무엇을 할 수 있는가(doing)`로 구성된다
  - `아는 것(knowing)`
    - 개인적인 정보에 관해 아는 것
    - 관련된 객체에 관해 아는 것
    - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
  - `하는 것(doing)`
    - 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
    - 다른 객체의 행동을 시작시키는 것
    - 다른 객체의 활동을 제어하고 조절하는 것


- 객체의 책임을 이야기할 때는 일반적으로 외부에서 접근 가능한 공용 서비스의 관점에서 이야기한다.
  - 따라서 책임은 객체의 `공용 인터페이스(public interface)`를 구성한다.
  - 공용 인터페이스의 개념은 객체지향의 중요한 원리 중 하나인 캡슐화로 이어진다

### 책임과 메시지
- 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것을 `메시지 전송(message-send)`이라고 한다.


- 따라서 두 객체 간의 협력은 메시지를 통해 이뤄지고, 협력을 요청하는 객체를 `송신자`라고 하며 메시지를 받아 요청을 처리하는 객체를 `수신자`라고 한다.


- 메시지는 협력을 위해 한 객체가 다른 객체로 접근할 수 있는 유일한 방법이다. ⭐


- 한 가지 주의할 점은 `책임과 메시지의 수준이 같지는 않다`는 점이다.
  - 책임은 객체가 협력에 참여하기 위해 수행해야 하는 행위를 상위 수준에서 개략적으로 서술한 것이다
  - 책임을 결정한 후 실제로 협력을 정제하면서 이를 메시지로 변환할 때는 하나의 책임이 여러 메시지로 분할되는 것이 일반적이다


## 역할
- 역할의 개념을 사용하면 유사한 협력을 추상화해서 인지 과부하를 줄일 수 있다.


- 다양한 객체들이 협력에 참여할 수 있기 때문에 협력이 좀 더 유연해지며, 다양한 객체들이 동일한 협력에 참여할 수 있기 때문에 `재사용성`이 높아진다.


- 역할은 객체지향 설계의 `단순성(simplicity)`, `유연성(flexibility)`, `재사용성(reusability)`을 뒷받침하는 핵심 개념이다.

### 협력의 추상화
- `역할의 가장 큰 가치`는 하나의 협력 안에 여러 종류의 객체가 참여할 수 있게 함으로써 `협력을 추상화`할 수 있다는 것이다.
  - ex) 이상한 나라의 앨리스에서 **왕-하얀 토끼-모자 장수** -> **판사-하얀 토끼-증인** 으로 추상적인 협력으로 대체 가능

### 대체 가능성
- `역할`은 협력 안에서 구체적인 객체로 `대체될 수 있는 추상적인 협력자`다.
  - 따라서 본질적으로 역할은 다른 객체에 의해 대체 가능함을 의미한다


- `역할의 대체 가능성`은 `행위 호환성`을 의미하고, 행위 호환성은 `동일한 책임의 수행`을 의미한다.